(function(){"use strict";var t={5760:function(t,e,o){var n=o(8935),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{attrs:{id:"nav"}},[o("router-link",{attrs:{to:"/all"}},[t._v("全部")]),t._v(" | "),o("router-link",{attrs:{to:"/active"}},[t._v("未完成")]),t._v(" | "),o("router-link",{attrs:{to:"/complete"}},[t._v("已完成")])],1),o("div",{staticClass:"list-group",attrs:{id:"list"}},[o("TodoInput"),t._l(t.todoIndex,(function(t){return o("TodoListItem",{key:t,attrs:{index:t}})}))],2)])},i=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todoInput"},[o("div",{staticClass:"input-group mb-3"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.todo,expression:"todo",modifiers:{trim:!0}},{name:"focus",rawName:"v-focus"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入代辦事項","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"},domProps:{value:t.todo},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitHandler.apply(null,arguments)},input:function(e){e.target.composing||(t.todo=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])},a=[],l={data(){return{todo:""}},methods:{submitHandler(){this.todo&&(this.$store.commit("ADD_TODO",{content:this.todo,complete:!1}),this.todo="")}}},c=l,u=o(1001),d=(0,u.Z)(c,s,a,!1,null,null,null),p=d.exports,m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todoListItem"},[null!=t.edit?o("label",{staticClass:"edit list-group-item d-flex gap-3 bg-light"},[o("input",{staticClass:"form-check-input form-check-input-placeholder bg-light flex-shrink-0",staticStyle:{"font-size":"1.375em"},attrs:{disabled:"",type:"checkbox",value:""}}),o("span",{staticClass:"form-checked-content"},[o("span",{staticClass:"w-100 input-group",attrs:{contenteditable:"true"}},[o("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:t.edit,expression:"edit",modifiers:{trim:!0}}],staticClass:"input-group",attrs:{type:"text",placeholder:"請輸入代辦事項"},domProps:{value:t.edit},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitHandler.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelHandler.apply(null,arguments)}],blur:[t.cancelHandler,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.edit=e.target.value.trim())}}})]),o("small",{staticClass:"d-block text-muted"},[o("svg",{staticClass:"bi me-1",attrs:{width:"1em",height:"1em"}},[o("use",{attrs:{"xlink:href":"#list-check"}})])])])]):[o("label",{staticClass:"list-group-item d-flex gap-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.complete,expression:"complete"}],staticClass:"form-check-input flex-shrink-0",staticStyle:{"font-size":"1.375em"},attrs:{type:"checkbox",value:""},domProps:{checked:Array.isArray(t.complete)?t._i(t.complete,"")>-1:t.complete},on:{change:function(e){var o=t.complete,n=e.target,r=!!n.checked;if(Array.isArray(o)){var i="",s=t._i(o,i);n.checked?s<0&&(t.complete=o.concat([i])):s>-1&&(t.complete=o.slice(0,s).concat(o.slice(s+1)))}else t.complete=r}}}),o("span",{staticClass:"form-checked-content"},[o("strong",[o("label",{on:{dblclick:t.editHandler}},[t._v(t._s(t.todo.content))])])]),o("button",{staticClass:"btn btn-danger",on:{click:t.destroyHandler}},[t._v("刪除")])])]],2)},f=[],h={data(){return{edit:null}},props:{index:{type:Number,require:!0}},computed:{todo(){return this.$store.state.todos[this.index]},complete:{get(){return this.todo.complete},set(t){this.$store.commit("UPDATE_TODO",{index:this.index,data:{content:this.todo.content,complete:t}})}}},methods:{destroyHandler(){confirm(`確認是否刪除 ${this.todo.content} ?`)&&this.$store.commit("REMOVE_TODO",this.index)},editHandler(){this.edit=this.todo.content},submitHandler(){this.edit||this.destroyHandler(),this.$store.commit("UPDATE_TODO",{index:this.index,data:{content:this.edit,complete:this.todo.complete}}),this.cancelHandler()},cancelHandler(){this.edit=null}}},v=h,y=(0,u.Z)(v,m,f,!1,null,null,null),g=y.exports,O={components:{TodoInput:p,TodoListItem:g},mounted(){this.$store.dispatch("INIT_TODOS")},computed:{todoIndex(){return this.$store.getters["todoIndex"]}}},k=O,b=(0,u.Z)(k,r,i,!1,null,null,null),x=b.exports,_=o(5269),T=o(2809);n.Z.use(T.Z);const C=[{path:"/all",name:"all"},{path:"/active",name:"active"},{path:"/complete",name:"complete"},{path:"*",redirect:"/all"}],D=new T.Z({routes:C});var w=D,E=o(4665);n.Z.use(E.ZP);const I={load(){return JSON.parse(localStorage.getItem("vue_todos")||"[]")},save(t){localStorage.setItem("vue_todos",JSON.stringify(t))}},$={all(t){return t},active(t){return t.filter((t=>!t.complete))},complete(t){return t.filter((t=>t.complete))}};var H=new E.ZP.Store({strict:!0,state:{todos:[]},getters:{todoIndex(t){return $[t.route.name](t.todos).map((e=>t.todos.indexOf(e)))}},mutations:{SET_TODOS(t,e){t.todos=e,I.save(t.todos)},ADD_TODO(t,e){t.todos.push(e),I.save(t.todos)},UPDATE_TODO(t,{index:e,data:o}){t.todos[e].complete=o.complete,t.todos[e].content=o.content,I.save(t.todos)},REMOVE_TODO(t,e){t.todos.splice(e,1),I.save(t.todos)}},actions:{INIT_TODOS({commit:t}){t("SET_TODOS",I.load())}}});(0,_.Z)(H,w),n.Z.config.productionTip=!1,n.Z.directive("focus",{inserted:function(t){t.focus()}}),new n.Z({router:w,store:H,render:t=>t(x)}).$mount("#app")}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,n,r,i){if(!n){var s=1/0;for(u=0;u<t.length;u++){n=t[u][0],r=t[u][1],i=t[u][2];for(var a=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(o.O).every((function(t){return o.O[t](n[l])}))?n.splice(l--,1):(a=!1,i<s&&(s=i));if(a){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,r,i]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,i,s=n[0],a=n[1],l=n[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(l)var u=l(o)}for(e&&e(n);c<s.length;c++)i=s[c],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(u)},n=self["webpackChunkvue_todo"]=self["webpackChunkvue_todo"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(5760)}));n=o.O(n)})();
//# sourceMappingURL=app.a1ee312a.js.map